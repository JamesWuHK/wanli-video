#!/usr/bin/env python3
"""
Runway æ‰¹é‡å›¾ç”Ÿè§†é¢‘ç”Ÿæˆè„šæœ¬
åŸºäºæˆåŠŸæµ‹è¯•çš„ runway_test.pyï¼Œæ‰¹é‡å¤„ç†æ‰€æœ‰ 13 ä¸ªåœºæ™¯
"""

import requests
import time
import base64
import json
from pathlib import Path

# API é…ç½®
API_KEY = "sk-hSsIao5zgH3uctxxJqWZOezaSW2HZWFTf8HHJQgL6mav6cpJ"
BASE_URL = "https://api.vectorengine.ai"

# åœºæ™¯é…ç½®
SCENES = [
    {
        "id": "scene_02_ren_intro",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_02_ren_intro.png",
        "output": "videos/scene_02_ren_intro_runway.mp4",
        "prompt": """ä¸€å¹…å®é™çš„æ°´å¢¨ç”»é£æ ¼åœºæ™¯ï¼Œæç»˜å­”å­åœ¨å¤ä»£æå›ä¸‹æˆè¯¾ã€‚è¿™ä½ä¼Ÿå¤§çš„åœ£äººååœ¨ä½çŸ®çš„æœ¨è´¨å¹³å°ä¸Šï¼Œå‘¨å›´å›´ç»•ç€èº«ç©¿ä¼ ç»Ÿæ±‰ä»£é•¿è¢çš„å­¦ç”Ÿã€‚å·¨å¤§çš„æ±‰å­—"ä»"ä»¥ä¼˜é›…çš„ä¹¦æ³•ç¬”è§¦é†’ç›®åœ°å±•ç¤ºåœ¨ç”»é¢ä¸Šæ–¹ï¼Œå¢¨é»‘è‰²çš„ç¬”ç”»ä»¿ä½›åˆšåˆšä¹¦å†™å®Œæˆã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å­”å­çš„æ‰‹ç¼“æ…¢è€Œä¼˜é›…åœ°åšç€æ•™å­¦æ‰‹åŠ¿ï¼Œæ‰‹æŒ‡è½»æŸ”åœ°åšå‡ºæˆè¯¾åŠ¨ä½œ
- ä»–çš„é•¿è¢åœ¨å¾®é£ä¸­éå¸¸è½»å¾®åœ°é£˜åŠ¨
- å­¦ç”Ÿä»¬ç•¥å¾®å‰å€¾èº«ä½“ï¼Œå±•ç°ä¸“æ³¨è†å¬çš„å§¿æ€ï¼Œå¤´éƒ¨å¾®å¾®ç‚¹åŠ¨
- ä¸€äº›å­¦ç”Ÿçš„æ‰‹ç§»åŠ¨ç€è®°ç¬”è®°æˆ–è°ƒæ•´åå§¿
- èƒŒæ™¯ä¸­çš„æ°´å¢¨äº‘å½©ç¼“æ…¢é£˜è¿‡å¤©ç©º
- èƒŒæ™¯ä¸­çš„ç«¹å¶åœ¨å¾®é£ä¸­è½»è½»æ‘‡æ›³
- "ä»"å­—ä¼¼ä¹å¸¦ç€æŸ”å’Œçš„å…‰èŠ’å¾®å¾®è„‰åŠ¨ï¼Œä»¿ä½›ä½“ç°ç€ä»çˆ±çš„ç†å¿µ
- è½»æ·¡çš„æ°´å¢¨æ™•æŸ“æ•ˆæœåœ¨è¾¹ç¼˜é€æ¸æ‰©æ•£ï¼Œè¥é€ å‡ºå¤§æ°”çš„çºµæ·±æ„Ÿ

é•œå¤´è¿åŠ¨ï¼š
- ä»å±•ç¤ºå®Œæ•´æˆè¯¾åœºæ™¯çš„å¹¿è§’è§†è§’å¼€å§‹ç¼“æ…¢æ¨è¿›
- é€æ¸é è¿‘ä»¥å¼ºè°ƒå­”å­å’Œ"ä»"å­—
- æµç•…ã€æ²‰æ€çš„é•œå¤´è¿åŠ¨ï¼Œä¿æŒæ°´å¢¨ç”»ç¾å­¦
- ä»¥å¹³è¡¡çš„æ„å›¾ç»“æŸï¼ŒåŒæ—¶çªå‡ºåœ£å¸ˆå’Œç¥åœ£çš„æ±‰å­—

æ°›å›´ï¼š
- å®é™çš„å­¦æœ¯æ°›å›´ï¼Œè¤è‰²è°ƒå’ŒæŸ”å’Œçš„å¢¨é»‘è‰²
- ä¼ ç»Ÿä¸­å›½æ°´å¢¨ç”»ç¾å­¦ï¼Œç¬”è§¦æµç•…
- æœ¦èƒ§å¦‚æ¢¦çš„è´¨æ„Ÿï¼Œæš—ç¤ºå¤ä»£æ™ºæ…§
- æ¸©æš–æŸ”å’Œçš„å…‰çº¿è¥é€ æ°¸æ’çš„æ„Ÿè§‰
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ä»"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_02_ren_modern",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_02_ren_modern.png",
        "output": "videos/scene_02_ren_modern_runway.mp4",
        "prompt": """ä¸€ä¸ªç°ä»£å¤šåœºæ™¯æ„å›¾ï¼Œå±•ç°å½“ä»£çš„ä»çˆ±ä¹‹ä¸¾ã€‚åœºæ™¯åŒ…å«ä¸‰ä¸ªå…³é”®ç‰‡æ®µï¼šå¹´è½»å¿—æ„¿è€…å¸®åŠ©è€å¹´äººï¼ŒåŒ»æŠ¤äººå‘˜ä»¥åŒæƒ…å¿ƒç…§é¡¾æ‚£è€…ï¼Œç¤¾åŒºæˆå‘˜äº’ç›¸å¸®åŠ©ã€‚"ä»"å­—ä»¥ç°ä»£ä¹¦æ³•é£æ ¼é†’ç›®åœ°å‡ºç°åœ¨æ„å›¾ä¸­ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å¿—æ„¿è€…è½»æŸ”åœ°å¸®åŠ©è€äººç«™èµ·æ¥ï¼Œæ‰‹åŠ¿å……æ»¡å…³æ€€
- åŒ»æŠ¤äººå‘˜ä»¥å……æ»¡åŒæƒ…çš„è‚¢ä½“è¯­è¨€å‘æ‚£è€…å€¾èº«ï¼Œè°ƒæ•´åŒ»ç–—è®¾å¤‡
- æ‰‹åœ¨å„ä¸ªç”»é¢ä¸­ä¼¸å‡ºï¼Œåšå‡ºå¸®åŠ©å’Œæ”¯æŒçš„æ‰‹åŠ¿
- äººä»¬çš„å¤´éƒ¨å¾®å¾®è½¬åŠ¨è¿›è¡Œçœ¼ç¥äº¤æµï¼Œå±•ç°äººä¸äººä¹‹é—´çš„è”ç³»
- è¡£ç‰©å’Œå¤´å‘éšç€è‡ªç„¶çš„ç©ºæ°”æµåŠ¨è€Œè½»å¾®æ‘†åŠ¨
- æŸ”å’Œçš„å…‰çº¿åœ¨é¢å­”ä¸Šç§»åŠ¨ï¼Œçªå‡ºæƒ…æ„Ÿçš„æ¸©æš–
- "ä»"å­—æŸ”å’Œå‘å…‰ï¼Œå°†ç°ä»£åœºæ™¯ä¸å¤ä»£æ™ºæ…§è¿æ¥èµ·æ¥
- å‰æ™¯å’ŒèƒŒæ™¯å…ƒç´ ä¹‹é—´æœ‰è½»å¾®çš„è§†å·®æ•ˆæœ

é•œå¤´è¿åŠ¨ï¼š
- ä»å·¦åˆ°å³æ¸©æŸ”åœ°æ¨ªæ‘‡è¿‡ä¸‰ä¸ªåœºæ™¯ç‰‡æ®µ
- è½»å¾®æ¨è¿›ä»¥å¼ºè°ƒäººä¸äººä¹‹é—´çš„è”ç³»å’Œå…³çˆ±è¡ŒåŠ¨
- ç°ä»£åœºæ™¯ä¹‹é—´æµç•…è¿‡æ¸¡
- é•œå¤´åœç•™åœ¨å¹³è¡¡çš„æ„å›¾ä¸Šï¼Œå±•ç°ç°ä»£ä»çˆ±çš„æ‰€æœ‰å…ƒç´ 

æ°›å›´ï¼š
- æ¸©æš–ã€å……æ»¡å¸Œæœ›çš„æ°›å›´ï¼Œç°ä»£è‰²å½©è°ƒè‰²
- æŸ”å’Œçš„è‡ªç„¶å…‰çº¿ï¼Œæš—ç¤ºç™½å¤©çš„ç¤¾åŒºæ´»åŠ¨
- ç®€æ´ç°ä»£çš„ç¾å­¦ä¸ä¼ ç»Ÿä»·å€¼è§‚èåˆ
- é€šè¿‡å…‰çº¿å¼ºè°ƒæƒ…æ„Ÿæ¸©æš–å’Œäººé™…è”ç³»
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ä»"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_03_yi_history",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_03_yi_history.png",
        "output": "videos/scene_03_yi_history_runway.mp4",
        "prompt": """ä¸€å¹…å±•ç°"ä¹‰"çš„æ¦‚å¿µçš„æˆå‰§æ€§å†å²åœºæ™¯ã€‚æ„å›¾ä¸­æœ‰èº«ç©¿ä¼ ç»Ÿç›”ç”²å’Œé•¿è¢çš„å¤ä»£ä¸­å›½æ­¦å£«æˆ–å†å²äººç‰©ï¼Œåšå®šåœ°ç«™ç«‹ç€ï¼Œå±•ç°é“å¾·ä¿¡å¿µã€‚å·¨å¤§çš„"ä¹‰"å­—ä»¥å¼ºåŠ²æœ‰åŠ›çš„ä¹¦æ³•ç¬”è§¦ä¸»å¯¼ç”»é¢ä¸Šæ–¹ï¼Œç¬”ç”»åˆšåŠ²ã€‚æ°´å¢¨å±±å³¦å’Œäº‘é›¾è¥é€ å‡ºè‹±é›„èˆ¬çš„èƒŒæ™¯ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- ä¸»è¦äººç‰©çš„é•¿è¢åœ¨é£ä¸­å‰§çƒˆé£˜æ‰¬ï¼Œæš—ç¤ºé«˜å°šçš„å†³å¿ƒ
- ä»–çš„æ‰‹æ”¾åœ¨å‰‘æŸ„ä¸Šï¼Œæ‰‹æŒ‡å¾®å¾®è°ƒæ•´æ¡æŒçš„ä½ç½®
- æ­¦å£«çš„èƒ¸è†›éšç€åšå®šæ²‰ç¨³çš„å‘¼å¸èµ·ä¼
- ä»–çš„ç›®å…‰ç•¥å¾®ç§»åŠ¨ï¼Œå±•ç°æ¯«ä¸åŠ¨æ‘‡çš„å†³å¿ƒ
- èƒŒæ™¯ä¸­çš„æ—Œæ——å’Œæˆ˜æ——åœ¨é£ä¸­é£˜æ‰¬
- æ°´å¢¨äº‘å½©é£˜è¿‡å±±å³¦æ™¯è§‚
- "ä¹‰"å­—ä¼¼ä¹æ•£å‘ç€å†…åœ¨çš„åŠ›é‡ï¼Œå¸¦ç€å¾®å¦™çš„å…‰æ™•æ•ˆæœ
- è–„é›¾åœ¨åœºæ™¯ä¸‹æ–¹æµåŠ¨
- èƒŒæ™¯ä¸­çš„å…¶ä»–äººç‰©ç•¥å¾®ç§»åŠ¨é‡å¿ƒï¼Œä¿æŒè­¦æƒ•çš„å§¿æ€

é•œå¤´è¿åŠ¨ï¼š
- ä»å®½å¹¿çš„è‹±é›„æ™¯è§‚å¼€å§‹ï¼Œæˆå‰§æ€§åœ°æ¨è¿›
- é€æ¸é è¿‘ä¸»è¦äººç‰©å’Œ"ä¹‰"å­—
- å¼ºåŠ²ç¨³å®šçš„é•œå¤´è¿åŠ¨ï¼Œæš—ç¤ºåšå®šä¸ç§»çš„æ­£ä¹‰
- ç•¥å¾®å‘ä¸Šå€¾æ–œä»¥å¼ºè°ƒé«˜å°šå’Œé“å¾·åˆ¶é«˜ç‚¹

æ°›å›´ï¼š
- è‹±é›„å¼ã€æˆå‰§æ€§çš„æ°›å›´ï¼Œå¼ºçƒˆçš„å¯¹æ¯”å’Œæ·±é‚ƒçš„é»‘è‰²
- ä¼ ç»Ÿæ°´å¢¨ç”»ç¾å­¦ï¼Œç¬”è§¦å¤§èƒ†
- äº‘é›¾ç¼­ç»•çš„å±±å³¦æ°›å›´ï¼Œæš—ç¤ºå´‡é«˜çš„ç†æƒ³
- å†·è“å’Œç°è‰²è°ƒä¸æ¸©æš–çš„é«˜å…‰æ··åˆ
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ä¹‰"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_03_yi_modern",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_03_yi_modern.png",
        "output": "videos/scene_03_yi_modern_runway.mp4",
        "prompt": """ä¸€ä¸ªå±•ç°ç°ä»£æ­£ä¹‰çš„å½“ä»£å¤šåœºæ™¯æ„å›¾ã€‚åœºæ™¯æç»˜äº†æ³•å®˜å…¬æ­£ä¸»æŒæ³•åº­ï¼Œè­¦å¯Ÿä»¥æ­£ç›´æ€åº¦æœåŠ¡ç¤¾åŒºï¼Œå…¬æ°‘ä¸ºæ­£ä¹‰æŒºèº«è€Œå‡ºã€‚"ä¹‰"å­—ä»¥ç°ä»£ä¹¦æ³•é£æ ¼é†’ç›®å±•ç¤ºï¼Œå°†å¤ä»£ç¾å¾·ä¸å½“ä»£æ­£ä¹‰è¿æ¥èµ·æ¥ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- æ³•å®˜çš„æ‰‹ç§»åŠ¨è°ƒæ•´æ–‡ä»¶æˆ–åœ¨å®¡ç†è¿‡ç¨‹ä¸­åšæ‰‹åŠ¿
- æ³•å¾‹ä¸“ä¸šäººå£«åœ¨å®¡é˜…æ¡ˆä»¶æ—¶ç•¥å¾®å‰å€¾èº«ä½“
- è­¦å¯Ÿåœ¨ä¸å¸‚æ°‘å°Šé‡åœ°äº’åŠ¨æ—¶è°ƒæ•´å§¿æ€
- äººä»¬çš„å¤´éƒ¨åœ¨è°ˆè¯ä¸­è½¬åŠ¨ï¼Œå±•ç°å…³äºæ­£ä¹‰çš„å¯¹è¯
- çº¸å¼ å’Œæ–‡ä»¶éšç€ç©ºæ°”æµåŠ¨è½»å¾®ç¿»åŠ¨
- æ‰‹åœ¨è®¨è®ºä¸­åšæ‰‹åŠ¿ï¼Œå¼ºè°ƒå…¬å¹³å’ŒçœŸç†çš„è¦ç‚¹
- "ä¹‰"å­—ä»¥ç¨³å®šã€åšå®šçš„å…‰èŠ’å‘å…‰ï¼Œè±¡å¾ç°ä»£æ­£ä¹‰
- è¡£ç‰©éšç€è‚¢ä½“è¯­è¨€è‡ªç„¶ç§»åŠ¨
- å‰æ™¯å’ŒèƒŒæ™¯å…ƒç´ ä¹‹é—´æœ‰è½»å¾®çš„çºµæ·±å˜åŒ–

é•œå¤´è¿åŠ¨ï¼š
- å¹³æ»‘åœ°æ¨ªæ‘‡è¿‡ä¸åŒçš„ç°ä»£æ­£ä¹‰åœºæ™¯
- æ¸©å’Œæ¨è¿›ä»¥å¼ºè°ƒæ­£ä¹‰å’Œå…¬å¹³çš„å…³é”®æ—¶åˆ»
- ç¨³å®šã€å¹³è¡¡çš„é•œå¤´å·¥ä½œï¼Œæš—ç¤ºæ³•å¾‹å’Œç§©åºçš„ç¨³å®šæ€§
- é•œå¤´åœç•™åœ¨ç»Ÿä¸€æ‰€æœ‰å…ƒç´ çš„æ„å›¾ä¸Šï¼Œä»¥"ä¹‰"å­—ä¸ºä¸­å¿ƒ

æ°›å›´ï¼š
- ä¸“ä¸šã€åº„é‡çš„æ°›å›´ï¼Œç®€æ´çš„ç°ä»£ç¾å­¦
- ç°ä»£æœºæ„ç¯å¢ƒä¸­çš„è‡ªç„¶å…‰çº¿
- æ¸…æ™°æ˜å¿«çš„è§†è§‰é£æ ¼ï¼Œä»£è¡¨é€æ˜å’Œå…¬æ­£
- å†·ä¸“ä¸šè‰²è°ƒä¸æ¸©æš–äººæ€§å…ƒç´ çš„å¹³è¡¡
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ä¹‰"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_04_li_tradition",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_04_li_tradition.png",
        "output": "videos/scene_04_li_tradition_runway.mp4",
        "prompt": """ä¸€ä¸ªæç»˜ç¤¼ä»ªè§„èŒƒçš„ä¼˜é›…ä¼ ç»Ÿä»ªå¼åœºæ™¯ã€‚æ„å›¾å±•ç¤ºèº«ç©¿ç»å…¸ä¸­å›½ç¤¼æœçš„äººç‰©è¿›è¡Œæ­£å¼é èº¬å’Œä¼ ç»Ÿç¤¼ä»ªã€‚"ç¤¼"å­—ä»¥ç²¾è‡´ä¼˜é›…çš„ä¹¦æ³•å‡ºç°ã€‚çº¢æŸ±å’Œé£æªçš„ä¼ ç»Ÿå»ºç­‘æ¡†æ¶ç€åœºæ™¯ï¼Œç¤¼å™¨å’Œä»ªå¼ç‰©å“ç²¾å¿ƒå¸ƒç½®ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- äººç‰©åœ¨æ­£å¼ä»ªå¼ä¸­è¿›è¡Œç¼“æ…¢ã€ä¼˜é›…çš„é èº¬åŠ¨ä½œ
- æ‰‹ä»¥ç¤¼ä»ªæ‰‹åŠ¿æœ‰æ„è¯†åœ°ç§»åŠ¨ï¼Œæ‰‹æŒ‡ç²¾ç¡®å®šä½
- å®½è¢–çš„ç¤¼æœéšç€æ‰‹è‡‚ç§»åŠ¨ä¼˜é›…é£˜åŠ¨
- å¤´éƒ¨åœ¨å°Šé‡çš„æ‰‹åŠ¿ä¸­ç¼“æ…¢ä½ä¸‹ï¼Œå±•ç°é€‚å½“çš„ç¤¼èŠ‚
- é¦™ç‚‰ä¸­çš„é¦™çƒŸä»¥ç²¾è‡´çš„ç¼•ç¼•ä¸Šå‡é£˜æ•£
- ä»ªå¼ç‰©å“ä¸Šçš„ä¸ç»¸å¸¦å­éå¸¸è½»å¾®åœ°é£˜åŠ¨
- "ç¤¼"å­—æ•£å‘ç€æŸ”å’Œã€åº„é‡çš„å…‰èŠ’
- çƒ›å…‰æˆ–ç¯ç¬¼çš„å…‰è½»è½»é—ªçƒï¼Œè¥é€ æ¸©æš–çš„æ°›å›´
- ä¼ ç»Ÿå»ºç­‘å…ƒç´ ä¸Šæœ‰è½»å¾®çš„é˜´å½±ç§»åŠ¨

é•œå¤´è¿åŠ¨ï¼š
- ç¼“æ…¢ã€è™”è¯šçš„æ¨è¿›é•œå¤´ï¼Œå°Šé‡ä»ªå¼çš„æ­£å¼æ€§
- ä»å®½é˜”çš„å»ºç«‹é•œå¤´ä¼˜é›…ç§»åŠ¨åˆ°æ›´è¿‘çš„è§†è§’
- ç¨³å®šã€åº„é‡çš„é•œå¤´å·¥ä½œï¼Œé…åˆä»ªå¼çš„ä»å®¹èŠ‚å¥
- ç•¥å¾®å‘ä¸Šçš„è§’åº¦ï¼Œæš—ç¤ºå°Šé‡å’Œåº„ä¸¥

æ°›å›´ï¼š
- åº„ä¸¥ã€å¨ä¸¥çš„æ°›å›´ï¼Œä¸°å¯Œçš„ä¼ ç»Ÿè‰²å½©â€”â€”çº¢è‰²ã€é‡‘è‰²å’Œé»‘è‰²
- æ¥è‡ªç¯ç¬¼å’Œèœ¡çƒ›çš„æ¸©æš–ä»ªå¼ç…§æ˜
- ç»å…¸ä¸­å›½ç¾å­¦ï¼Œæ³¨é‡å¯¹ç§°å’Œå¹³è¡¡
- æ­£å¼ã€å°Šé‡çš„æ°›å›´ï¼Œå¼ºè°ƒæ–‡åŒ–é—äº§
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ç¤¼"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_04_li_modern",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_04_li_modern.png",
        "output": "videos/scene_04_li_modern_runway.mp4",
        "prompt": """ä¸€ä¸ªå±•ç°ç°ä»£ç¤¼ä»ªå’Œè§„èŒƒçš„å½“ä»£å¤šç”»é¢æ„å›¾ã€‚åœºæ™¯åŒ…æ‹¬å­¦ç”Ÿå‘è€å¸ˆæ­æ•¬é èº¬ï¼Œå®¶åº­æˆå‘˜åœ¨å®¶ä¸­è¡¨ç°ç¤¼è²Œï¼Œä»¥åŠå©šç¤¼ç­‰æ­£å¼åœºåˆéµå®ˆä¼ ç»Ÿç¤¼ä»ªã€‚"ç¤¼"å­—ä»¥ç°ä»£é£æ ¼å±•ç¤ºï¼Œè¿æ¥ä¼ ç»Ÿè§„èŒƒä¸å½“ä»£æ–‡æ˜ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å­¦ç”Ÿæ­æ•¬åœ°ä½å¤´è‡´æ„ï¼Œè‚¢ä½“è¯­è¨€çœŸè¯š
- è€å¸ˆç‚¹å¤´è¡¨ç¤ºè®¤å¯ï¼Œæ‰‹åŠ¿æ¸©å’Œè€Œèµèµ
- å®¶åº­æˆå‘˜åœ¨é¤æ¡Œä¸Šç¤¼è²Œåœ°é€’èœï¼Œæ‰‹éƒ¨åŠ¨ä½œç»†å¿ƒ
- å©šç¤¼å‚ä¸è€…æ­£å¼é èº¬ï¼ŒåŠ¨ä½œç¼“æ…¢ä¼˜é›…
- åŒæ‰‹åˆååšå‡ºå°Šé‡çš„æ‰‹åŠ¿
- äººä»¬çš„è„¸ä¸Šå±•ç°çœŸè¯šçš„å¾®ç¬‘å’Œæ¸©æš–çš„è¡¨æƒ…
- è¡£ç‰©éšç€ç¤¼è²Œçš„è‚¢ä½“è¯­è¨€è‡ªç„¶ç§»åŠ¨
- "ç¤¼"å­—æŸ”å’Œå‘å…‰ï¼Œæ•£å‘ç€äº’ç›¸å°Šé‡çš„æ¸©æš–
- è½»å¾®çš„æ™¯æ·±å˜åŒ–ä»¥å¼ºè°ƒä¸åŒçš„ç¤¼è²Œè¡Œä¸º

é•œå¤´è¿åŠ¨ï¼š
- æ¸©å’Œåœ°æ¨ªæ‘‡è¿‡å„ç§ç°ä»£ç¤¼ä»ªåœºæ™¯
- å®¶åº­ã€å­¦æ ¡å’Œæ­£å¼åœºåˆä¹‹é—´çš„æµç•…è¿‡æ¸¡
- æ¸©æš–ã€å¹³æ˜“è¿‘äººçš„é•œå¤´è¿åŠ¨ï¼Œæš—ç¤ºæ—¥å¸¸æ–‡æ˜
- é•œå¤´åœç•™åœ¨å’Œè°çš„æ„å›¾ä¸Šï¼Œç»Ÿä¸€æ‰€æœ‰ç°ä»£è§„èŒƒçš„å½¢å¼

æ°›å›´ï¼š
- æ¸©æš–ã€å’Œè°çš„æ°›å›´ï¼Œå½“ä»£è‰²å½©è°ƒè‰²æ¿
- ç°ä»£ç¯å¢ƒä¸­è‡ªç„¶ã€æ¸©é¦¨çš„ç…§æ˜
- ç®€æ´ã€æ˜äº®çš„ç¾å­¦ï¼Œä»£è¡¨ç§¯æçš„ç¤¾ä¼šäº’åŠ¨
- é€šè¿‡ç…§æ˜å¼ºè°ƒçœŸè¯šçš„äººé™…æ¸©æš–å’Œç›¸äº’å°Šé‡
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ç¤¼"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_05_zhi_ancient",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_05_zhi_ancient.png",
        "output": "videos/scene_05_zhi_ancient_runway.mp4",
        "prompt": """ä¸€ä¸ªæç»˜æ™ºæ…§çš„å¤ä»£ä¸­å›½å­¦æœ¯åœºæ™¯ã€‚æ„å›¾å±•ç¤ºå¤ä»£å­¦è€…ç ”ç©¶å¤©æ–‡å›¾ã€è€ƒå¯Ÿå››å¤§å‘æ˜ï¼ˆæŒ‡å—é’ˆã€ç«è¯ã€é€ çº¸æœ¯ã€å°åˆ·æœ¯ï¼‰ï¼Œæ²‰æµ¸åœ¨æ·±åˆ»çš„æ€è€ƒä¸­ã€‚"æ™º"å­—ä»¥å­¦æœ¯ä¹¦æ³•é†’ç›®å±•ç¤ºã€‚ä¼ ç»Ÿä¹¦æˆ¿ä¸­æ‘†æ»¡å·è½´ã€ä¹¦ç±å’Œç§‘å­¦ä»ªå™¨ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å­¦è€…çš„æ‰‹æ²¿ç€æ˜Ÿå›¾å’Œå¤©æ–‡å›¾æç»˜è½¨è¿¹
- æ‰‹æŒ‡ä»”ç»†è€Œæœ‰æ„è¯†åœ°ç¿»é˜…å¤ç±çš„ä¹¦é¡µ
- æ‰‹è°ƒæ•´ç½—ç›˜æŒ‡é’ˆï¼Œæ³¨è§†ç€å®ƒä»¬ç²¾ç¡®å¯¹é½
- æ¯›ç¬”åœ¨çº¸ä¸Šä»”ç»†ç»ƒä¹ ä¹¦æ³•
- çœ¼ç›ä¸“æ³¨åœ°æ‰«è§†æ–‡æœ¬ï¼Œå¤´éƒ¨å¾®å¾®å€¾æ–œ
- å·è½´é€æ¸å±•å¼€ï¼Œæ­ç¤ºå…¶ä¸­ä¹¦å†™çš„çŸ¥è¯†
- "æ™º"å­—è„‰åŠ¨ç€æ™ºæ…§çš„èƒ½é‡ï¼ŒæŸ”å’Œå‘å…‰
- çƒ›å…‰é—ªçƒï¼Œåœ¨å­¦ä¹ çš„é¢å­”ä¸ŠæŠ•å°„ç§»åŠ¨çš„é˜´å½±
- æ—©æœŸç§‘å­¦å®éªŒä¸­å‡èµ·è’¸æ±½æˆ–çƒŸé›¾
- æœ¨è´¨å°åˆ·æ¿è¢«ä»”ç»†å®šä½å’ŒæŒ‰å‹

é•œå¤´è¿åŠ¨ï¼š
- ä»å­¦æœ¯ç¯å¢ƒçš„å…¨æ™¯ç¼“æ…¢æ¨è¿›åˆ°æ›´è¿‘çš„ç»†èŠ‚
- é•œå¤´ç©¿è¿‡ä¸åŒçš„å‘æ˜å’Œç ”ç©¶é¢†åŸŸ
- æ²‰æ€ã€ç¨³å®šçš„è¿åŠ¨ï¼Œæš—ç¤ºä»”ç»†è§‚å¯Ÿå’Œå­¦ä¹ 
- ç„¦ç‚¹é€æ¸é›†ä¸­åœ¨"æ™º"å­—å’Œå­¦è€…ä»¬çš„ä¸“æ³¨å·¥ä½œä¸Š

æ°›å›´ï¼š
- æ²‰æ€ã€æ™ºæ…§çš„æ°›å›´ï¼Œæ¸©æš–çš„è¤è‰²å’Œæ£•è‰²è°ƒ
- æ¥è‡ªèœ¡çƒ›å’Œçª—æˆ·çš„æŸ”å’Œçƒ›å…‰å’Œè‡ªç„¶å…‰ï¼Œè¥é€ å­¦ä¹ æ°›å›´
- ä¼ ç»Ÿå­¦æœ¯ç¾å­¦ï¼Œæ³¨é‡ä¹¦ç±ã€ä»ªå™¨å’Œå·¥å…·
- å‘ç°å’Œç§¯ç´¯æ™ºæ…§çš„æ„Ÿè§‰
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"æ™º"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_05_zhi_modern",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_05_zhi_modern.png",
        "output": "videos/scene_05_zhi_modern_runway.mp4",
        "prompt": """ä¸€ä¸ªå±•ç°å½“ä»£æ™ºæ…§å’Œåˆ›æ–°çš„åŠ¨æ€ç°ä»£åœºæ™¯ã€‚æ„å›¾åŒ…æ‹¬å­¦ç”Ÿä½¿ç”¨å…ˆè¿›æŠ€æœ¯å·¥ä½œï¼Œç§‘å­¦å®¶è¿›è¡Œç ”ç©¶ï¼ŒAIå’Œæœºå™¨äººå¼€å‘ï¼Œä»¥åŠä¸­å›½èˆªå¤©è®¡åˆ’çš„æˆå°±ã€‚"æ™º"å­—ä»¥æ—¶å°šç°ä»£çš„é£æ ¼å‡ºç°ã€‚é«˜ç§‘æŠ€å®éªŒå®¤ã€è®¡ç®—æœºå±å¹•å’Œèˆªå¤©å™¨å…ƒç´ å……æ»¡è¿™ä¸ªå……æ»¡æ´»åŠ›çš„åœºæ™¯ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å­¦ç”Ÿçš„æ‰‹åœ¨é”®ç›˜ä¸Šæ‰“å­—å¹¶ä¸è§¦æ‘¸å±äº’åŠ¨
- ç§‘å­¦å®¶è°ƒæ•´å®éªŒå®¤è®¾å¤‡å¹¶æ£€æŸ¥æ•°æ®æ˜¾ç¤º
- æœºå™¨äººæ‰‹è‡‚ä»¥ç²¾ç¡®çš„ç¨‹åºåŒ–åŠ¨ä½œç§»åŠ¨
- æ‰‹æŒ‡åœ¨å¹³æ¿ç”µè„‘å’Œæ•°å­—ç•Œé¢ä¸Šæ»‘åŠ¨
- å¤´éƒ¨è½¬å‘ä¸åŒäº‹è®¨è®ºå‘ç°
- è®¡ç®—æœºå±å¹•ä¸Šçš„æ•°æ®å¯è§†åŒ–åŠ¨æ€å±•ç¤º
- æŠ€æœ¯è®¾å¤‡ä¸Šçš„LEDç¯é—ªçƒå’Œè„‰åŠ¨
- "æ™º"å­—ä»¥æ•°å­—èƒ½é‡å‘å…‰ï¼Œå¸¦æœ‰å¾®å¦™çš„ç”µè·¯èˆ¬çš„æ•ˆæœ
- èˆªå¤©å™¨æ¨¡å‹æˆ–æ˜¾ç¤ºè£…ç½®è½»è½»æ—‹è½¬
- å…¨æ¯æ˜¾ç¤ºé—ªçƒå¹¶æ›´æ–°ä¿¡æ¯
- å®éªŒæœçš„è¢–å­éšç€æ‰‹è‡‚åŠ¨ä½œç§»åŠ¨

é•œå¤´è¿åŠ¨ï¼š
- åŠ¨æ€æ¨è¿›é•œå¤´ç©¿è¿‡ç°ä»£åˆ›æ–°æ™¯è§‚
- å¹³æ»‘æ¨ªæ‘‡è¿‡ä¸åŒçš„æŠ€æœ¯è¿›æ­¥é¢†åŸŸ
- å……æ»¡æ´»åŠ›ä½†å—æ§çš„é•œå¤´å·¥ä½œï¼Œæš—ç¤ºè¿›æ­¥å’Œå‘ç°
- æŠ€æœ¯å…ƒç´ ä¹‹é—´è½»å¾®çš„è§†å·®è¥é€ çºµæ·±æ„Ÿ
- é•œå¤´åœç•™åœ¨ä»¥"æ™º"å­—ä¸ºä¸­å¿ƒçš„æœªæ¥ä¸»ä¹‰æ„å›¾ä¸Š

æ°›å›´ï¼š
- æ˜äº®ã€ä¹è§‚çš„æ°›å›´ï¼Œå†·è“è‰²å’Œçº¯å‡€ç™½è‰²
- ç°ä»£LEDå’Œå±å¹•ç…§æ˜è¥é€ é«˜ç§‘æŠ€æ°›å›´
- æ—¶å°šã€æœªæ¥ä¸»ä¹‰çš„ç¾å­¦ï¼Œä»£è¡¨å°–ç«¯åˆ›æ–°
- è¿›æ­¥ã€å‘ç°å’Œä¸­å›½ç§‘æŠ€è¿›æ­¥çš„æ„Ÿè§‰
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"æ™º"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_06_xin_principle",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_06_xin_principle.png",
        "output": "videos/scene_06_xin_principle_runway.mp4",
        "prompt": """ä¸€ä¸ªæç»˜è¯šä¿¡çš„ä¼ ç»Ÿå¸‚åœºæˆ–å•†è´¾åœºæ™¯ã€‚æ„å›¾å±•ç¤ºè¯šå®çš„å•†äººè¿›è¡Œå…¬å¹³äº¤æ˜“ï¼Œé¡¾å®¢å’Œå–å®¶ä»¥è¯šä¿¡äº¤æ¢è´§ç‰©ï¼Œä»¥åŠåœ¨ä¼ ç»Ÿå•†ä¸šä¸­ä¿¡å®ˆæ‰¿è¯ºã€‚"ä¿¡"å­—ä»¥å¯ä¿¡ã€ç¨³å›ºçš„ä¹¦æ³•å±•ç¤ºã€‚ä¼ ç»Ÿåº—é“ºé—¨é¢ã€å…¬å¹³ç§°é‡çš„ç§¤å’Œè´¦æœ¬å¼ºè°ƒè¯šå®ç»è¥ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å•†äººçš„æ‰‹å°†è´§ç‰©ä»”ç»†æ”¾åœ¨è¯šå®çš„ç§¤ä¸Šï¼Œå±•ç¤ºå…¬å¹³ç§°é‡
- æ‰‹æŒ‡ä»¥é€æ˜ã€è¯šå®çš„æ‰‹åŠ¿æ•°ç¡¬å¸æˆ–è´§å¸
- åŒæ‰‹æ¡æ‰‹è¾¾æˆåè®®ï¼Œä»¥äº’ä¿¡å°å°äº¤æ˜“
- åº—ä¸»åœ¨è´¦æœ¬ä¸Šä»”ç»†ã€è¯šå®åœ°ä¹¦å†™
- é¡¾å®¢æ£€æŸ¥è´§ç‰©ï¼Œæ»¡æ„åœ°ç‚¹å¤´è®¤å¯è´¨é‡
- æ‰‹ä»¥å¼€æ”¾ã€è¯šå®çš„æ‰‹åŠ¿å±•ç¤ºäº§å“
- åº—é“ºæ‹›ç‰Œå’Œæ——å¸œåœ¨å¾®é£ä¸­è½»è½»æ‘‡æ™ƒ
- "ä¿¡"å­—æ•£å‘ç€ç¨³å®šã€å¯é çš„å…‰èŠ’
- èŒ¶æ°´çš„è’¸æ±½å‡èµ·ï¼Œç”¨ä»¥å°å°åè®®
- å¤´éƒ¨ç‚¹åŠ¨è¡¨ç¤ºç›¸äº’åŒæ„å’Œä¿¡ä»»
- è¡£ç‰©å’Œè¢–å­éšç€å•†ä¸šäº¤æ˜“ç§»åŠ¨

é•œå¤´è¿åŠ¨ï¼š
- ç¨³å®šã€ç›´æ¥çš„é•œå¤´è¿åŠ¨ï¼Œæš—ç¤ºè¯šå®å’Œé€æ˜
- æ¸©å’Œæ¨ªæ‘‡è¿‡ä¼ ç»Ÿå¸‚åœºåœºæ™¯
- æ¨è¿›ä»¥å¼ºè°ƒä¿¡ä»»å’Œå…¬å¹³äº¤æ˜“çš„æ—¶åˆ»
- å¯é ã€ä¸€è‡´çš„é•œå¤´å·¥ä½œï¼Œé…åˆè¯šä¿¡çš„ä¸»é¢˜

æ°›å›´ï¼š
- æ¸©æš–ã€å€¼å¾—ä¿¡èµ–çš„æ°›å›´ï¼Œæœ´å®çš„æ£•è‰²å’Œè¯šå®çš„é‡‘è‰²
- è‡ªç„¶çš„å¸‚åœºç…§æ˜ï¼Œæš—ç¤ºå¼€æ”¾ã€é€æ˜çš„äº¤æ˜“
- ä¼ ç»Ÿå•†ä¸šç¾å­¦ï¼Œæ³¨é‡å…¬å¹³è´¸æ˜“å®è·µ
- è¯šä¿¡ã€å¯é å’Œä¿¡å®ˆè¯ºè¨€çš„æ„Ÿè§‰
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ä¿¡"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_06_xin_modern",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_06_xin_modern.png",
        "output": "videos/scene_06_xin_modern_runway.mp4",
        "prompt": """ä¸€ä¸ªå±•ç°ç°ä»£è¯šä¿¡çš„å½“ä»£å¤šåœºæ™¯æ„å›¾ã€‚åœºæ™¯æç»˜äº†ä»¥è¯šä¿¡è¿è¥çš„ç°ä»£ä¼ä¸šï¼Œä¼˜è´¨äº§å“è®¤è¯ï¼Œé€æ˜çš„å®¢æˆ·æœåŠ¡ï¼Œä»¥åŠä¸­å›½ç¤¾ä¼šä¿¡ç”¨ä½“ç³»ä¿ƒè¿›è¯šå®ã€‚"ä¿¡"å­—ä»¥ç°ä»£ã€å¯ä¿¡çš„é£æ ¼å‡ºç°ã€‚æ•´æ´çš„é›¶å”®ç¯å¢ƒã€è¯„çº§å’Œè¯„è®ºçš„æ•°å­—æ˜¾ç¤ºï¼Œä»¥åŠä¸“ä¸šæœåŠ¡ç¯å¢ƒå……æ»¡åœºæ™¯ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- å•†ä¸šä¸“ä¸šäººå£«åœ¨è¯šå®çš„åè®®ä¸­æ¡æ‰‹
- æ‰‹æ‰«æäºŒç»´ç è¿›è¡Œé€æ˜æ”¯ä»˜ç³»ç»Ÿ
- å®¢æœä»£è¡¨åœ¨ååŠ©å®¢æˆ·æ—¶åšå‡ºæœ‰å¸®åŠ©çš„æ‰‹åŠ¿
- æ‰‹æŒ‡æŒ‡å‘æ•°å­—æ˜¾ç¤ºå±ä¸Šçš„è´¨é‡è®¤è¯å’Œè¯„çº§
- äººä»¬åœ¨æ™ºèƒ½æ‰‹æœºä¸Šè‡ªä¿¡åœ°æŸ¥çœ‹äº§å“ä¿¡æ¯
- æ•°å­—è¯„çº§æ˜Ÿæ ‡ç‚¹äº®å¹¶è„‰åŠ¨ï¼Œæ˜¾ç¤ºç»è¿‡éªŒè¯çš„è¯„è®º
- "ä¿¡"å­—ä»¥æ•°å­—è¯šä¿¡å‘å…‰ï¼Œå¯èƒ½å¸¦æœ‰éªŒè¯å¯¹å‹¾æ ‡è®°
- æ”¶é“¶å‘˜ä»¥æ¸…æ™°ã€é€æ˜çš„æ‰‹åŠ¿å¤„ç†äº¤æ˜“
- åº—å‘˜ä»”ç»†æ³¨æ„è´¨é‡åœ°ç»™è´§æ¶è¡¥è´§
- å±å¹•å®æ—¶æ›´æ–°ä¿¡ä»»åˆ†æ•°å’ŒéªŒè¯
- è‡ªç„¶çš„è‚¢ä½“è¯­è¨€å±•ç°ä¸“ä¸šå¯é æ€§

é•œå¤´è¿åŠ¨ï¼š
- å¹³æ»‘æ¨ªæ‘‡è¿‡å„ç§ç°ä»£ä¿¡ä»»åœºæ™¯
- æ¸©å’Œæ¨è¿›ä»¥å¼ºè°ƒè¯šä¿¡å’ŒéªŒè¯çš„æ—¶åˆ»
- ç®€æ´ã€ä¸“ä¸šçš„é•œå¤´å·¥ä½œï¼Œæš—ç¤ºé€æ˜åº¦
- å»ºç«‹ä¿¡å¿ƒå¹¶å±•ç¤ºç³»ç»Ÿå¯é æ€§çš„é•œå¤´è¿åŠ¨

æ°›å›´ï¼š
- ç®€æ´ã€ä¸“ä¸šçš„æ°›å›´ï¼Œç°ä»£ç™½è‰²ã€è“è‰²å’Œä»¤äººä¿¡èµ–çš„ç»¿è‰²
- æ˜äº®çš„é›¶å”®å’ŒåŠå…¬ç…§æ˜ï¼Œæš—ç¤ºé€æ˜å’Œå¼€æ”¾
- å½“ä»£ç¾å­¦ä¸æ•°å­—å…ƒç´ ä»£è¡¨ç°ä»£ä¿¡ä»»ç³»ç»Ÿ
- ç³»ç»Ÿè¯šä¿¡ã€ç»è¿‡éªŒè¯çš„è´¨é‡å’Œç¤¾ä¼šè´£ä»»æ„Ÿ
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"ä¿¡"å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_07_heritage_education",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_07_heritage_education.png",
        "output": "videos/scene_07_heritage_education_runway.mp4",
        "prompt": """ä¸€ä¸ªæ¸©é¦¨çš„å¤šä»£äººåœºæ™¯ï¼Œæç»˜æ–‡åŒ–ä¼ æ‰¿å’Œæ•™è‚²ã€‚æ„å›¾å±•ç¤ºè€å¸ˆå‘å¹´è½»å­¦ç”Ÿä¼ æˆä¼ ç»Ÿæ–‡åŒ–ï¼Œç¥–çˆ¶æ¯ä¸å­™è¾ˆåˆ†äº«æ™ºæ…§ï¼Œä»¥åŠå®¶åº­åœ¨å‡ ä»£äººä¹‹é—´ä¼ é€’ä»·å€¼è§‚ã€‚ä¹¦ç±ã€æ–‡åŒ–æ–‡ç‰©å’Œå­¦ä¹ ææ–™ç²¾å¿ƒå¸ƒç½®ã€‚æ¸©æš–ã€å…»è‚²çš„æ°›å›´å¼ºè°ƒæ–‡åŒ–é—äº§çš„å»¶ç»­æ€§ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- è€å¸ˆçš„æ‰‹æŒ‡ç€å¤ç±ä¸­çš„æ–‡å­—ï¼ŒåŒæ—¶è§£é‡Šå…¶å«ä¹‰
- å­¦ç”Ÿçš„çœ¼ç›è·Ÿéšå­¦ä¹ ï¼Œå¤´éƒ¨ç‚¹åŠ¨è¡¨ç¤ºç†è§£
- å¹´è½»çš„æ‰‹ç”¨æ¯›ç¬”ç»ƒä¹ ä¹¦å†™ä¼ ç»Ÿæ–‡å­—
- ç¥–çˆ¶æ¯åœ¨è®²æ•…äº‹æ—¶æ¸©æš–åœ°åšæ‰‹åŠ¿ï¼Œå­™è¾ˆä¸“æ³¨è†å¬
- å­©å­ä»¬å……æ»¡å¥½å¥‡åœ°å‰å€¾èº«ä½“ï¼Œå±•ç°å¯¹æ–‡åŒ–å­¦ä¹ çš„å‚ä¸
- ç»å…¸ä¹¦ç±çš„ä¹¦é¡µç¿»åŠ¨ï¼Œæ­ç¤ºä¼ ç»Ÿæ™ºæ…§
- æ‰‹ä»”ç»†å¤„ç†æ–‡åŒ–æ–‡ç‰©å’Œä¼ ç»Ÿç‰©å“
- é¢å­”å±•ç°ç†è§£å’Œæ¬£èµçš„è¡¨æƒ…
- å¤šä»£äººçš„æ‰‹è§¦æ‘¸åŒä¸€æ–‡åŒ–ç‰©å“ï¼Œè±¡å¾ä¼ æ‰¿
- æŸ”å’Œçš„å…‰çº¿åœ¨å­¦ä¹ çš„é¢å­”ä¸Šç§»åŠ¨ï¼Œçªå‡ºå‡ ä»£äººä¹‹é—´çš„è”ç³»æ—¶åˆ»
- ä¼ ç»Ÿå·è½´è½»è½»å±•å¼€ï¼Œæ­ç¤ºè¦ä¼ æ‰¿çš„çŸ¥è¯†

é•œå¤´è¿åŠ¨ï¼š
- æ¸©æš–ã€æ¸©å’Œçš„æ¨è¿›ï¼Œå¼ºè°ƒä»£é™…ä¹‹é—´çš„è”ç³»
- ç¼“æ…¢æ¨ªæ‘‡è¿‡ä¸åŒçš„æ•™å­¦å’Œå­¦ä¹ åœºæ™¯
- å…»è‚²çš„é•œå¤´è¿åŠ¨ï¼Œæš—ç¤ºæ–‡åŒ–ä¼ æ‰¿ä¸­çš„å…³æ€€
- é•œå¤´åœç•™åœ¨å’Œè°çš„æ„å›¾ä¸Šï¼Œå±•ç°è·¨è¶Šå¹´é¾„çš„å»¶ç»­æ€§

æ°›å›´ï¼š
- æ¸©æš–ã€å…»è‚²çš„æ°›å›´ï¼ŒæŸ”å’Œçš„é‡‘è‰²ã€æ¸©å’Œçš„æ£•è‰²å’Œèˆ’é€‚çš„è‰²è°ƒ
- è‡ªç„¶çš„å®¤å†…ç…§æ˜è¥é€ äº²å¯†çš„å­¦ä¹ ç¯å¢ƒ
- ä¼ ç»Ÿæ•™è‚²ç¾å­¦ä¸å®¶åº­æ¸©æš–èåˆ
- å»¶ç»­æ€§ã€å…³æ€€å’Œæ–‡åŒ–é—äº§çè´µæ€§çš„æ„Ÿè§‰
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—

æ—¶é•¿ï¼š10ç§’"""
    },
    {
        "id": "scene_07_grand_finale",
        "image": "storyboards/æ–‡è„‰è–ªä¼ /doubao_images/scene_07_grand_finale.png",
        "output": "videos/scene_07_grand_finale_runway.mp4",
        "prompt": """ä¸€ä¸ªå²è¯—èˆ¬ã€å®ä¼Ÿçš„ç»“å°¾åœºæ™¯ï¼Œå±•ç°ä¸­å›½å£®ä¸½å±±æ²³åœ¨æ—¥å‡ºæ—¶åˆ†ã€‚æ„å›¾åŒ…æ‹¬å£®é˜”çš„å±±å³¦ç¬¼ç½©åœ¨æ™¨é›¾ä¸­ï¼Œé‡‘è‰²çš„æ—¥å‡ºåœ¨å±±å³°ä¸Šå‡èµ·ï¼Œå¼ºæœ‰åŠ›çš„æ±‰å­—"æ–‡è„‰è–ªä¼  ç”Ÿç”Ÿä¸æ¯"ä»¥å®å¤§çš„ä¹¦æ³•é†’ç›®å±•ç¤ºã€‚åœºæ™¯ä½“ç°äº†ä¸­å›½æ–‡åŒ–é—äº§çš„æ°¸æ’å»¶ç»­ï¼Œæ˜ è¡¬ç€æ°¸æ’çš„è‡ªç„¶ä¹‹ç¾ã€‚

ç»†å¾®åŠ¨ä½œï¼š
- æ™¨é›¾åƒäº‘æ²³ä¸€æ ·ç¼“æ…¢æµè¿‡å±±è°·
- å‡èµ·çš„å¤ªé˜³é€æ¸å˜äº®ï¼Œå…‰èŠ’åœ¨å¤©ç©ºä¸­æ‰©å±•
- äº‘å½©é›„ä¼Ÿåœ°é£˜è¿‡å±±å³°
- å…‰æŸç©¿é€è–„é›¾ï¼Œå½¢æˆç¥åœ£çš„å…‰çº¿ï¼ˆäº‘éš™å…‰ï¼‰
- "æ–‡è„‰è–ªä¼  ç”Ÿç”Ÿä¸æ¯"æ±‰å­—çš„å…‰èŠ’é€æ¸å¢å¼ºï¼Œä»¿ä½›éšç€é»æ˜è€Œè‹é†’
- å±±å³¦çš„è½®å»“éšç€å…‰çº¿å¢å¼ºè€Œå˜å¾—æ›´åŠ æ¸…æ™°
- å±±è°·ä¸­å¾®å¦™çš„å¤§æ°”è–„é›¾ç§»åŠ¨å’Œæ—‹è½¬
- è¿œå¤„å¯èƒ½æœ‰é¸Ÿå„¿é£ç¿”ï¼Œæš—ç¤ºç”Ÿå‘½å’Œå»¶ç»­
- æ°´é¢ï¼ˆå¦‚æœå¯è§ï¼‰åå°„ç€å˜åŒ–çš„æ™¨å…‰ï¼Œå¸¦ç€è½»æŸ”çš„æ¶Ÿæ¼ª
- æ•´ä¸ªåœºæ™¯ä»é»æ˜å‰é€æ¸æ˜äº®åˆ°å®Œå…¨çš„æ™¨å…‰è¾‰ç…Œ
- è¾¹ç¼˜çš„æ°´å¢¨æ•ˆæœè½»è½»è„‰åŠ¨ï¼Œå°†ä¼ ç»Ÿè‰ºæœ¯ä¸è‡ªç„¶å£®ä¸½èåˆ

é•œå¤´è¿åŠ¨ï¼š
- ä»å®å¤§çš„å¹¿é˜”æ™¯è§‚å¼€å§‹ï¼Œé›„ä¼Ÿã€ç¼“æ…¢çš„æ¨è¿›é•œå¤´
- è™”è¯šåœ°å‘ä¸Šå€¾æ–œï¼Œè·Ÿéšå±±å³°æœå‘å‡èµ·çš„å¤ªé˜³
- æµç•…ã€å²è¯—èˆ¬çš„é•œå¤´è¿åŠ¨ï¼Œæš—ç¤ºæ°¸æ’å’Œå®ä¼Ÿ
- é•œå¤´é€æ¸ä»¥å£®ä¸½èƒŒæ™¯è¡¬æ‰˜çš„å¼ºæœ‰åŠ›æ±‰å­—ä¸ºä¸­å¿ƒ
- ä»¥å¹³è¡¡ã€å¼ºå¤§çš„æ„å›¾ç»“æŸï¼Œæ¿€å‘å¸Œæœ›å’Œå»¶ç»­æ€§

æ°›å›´ï¼š
- å²è¯—èˆ¬ã€é¼“èˆäººå¿ƒçš„æ°›å›´ï¼Œé‡‘è‰²æ—¥å‡ºè‰²å½©ã€æ·±è“å’Œé›„ä¼Ÿçš„ç´«è‰²
- ç ´æ™“æ—¶åˆ†çš„æˆå‰§æ€§è‡ªç„¶ç…§æ˜
- èåˆå†™å®é£æ™¯ä¸ä¼ ç»Ÿæ°´å¢¨ç”»ç¾å­¦
- æ°¸æ’ã€å»¶ç»­æ€§ã€è‡ªç„¶å®ä¼Ÿå’Œæ–‡åŒ–è‡ªè±ªæ„Ÿ
- æƒ…æ„Ÿé«˜æ½®æš—ç¤ºä¸­åæ–‡æ˜çš„æ°¸æ’æ´»åŠ›
- ç²¾ç¡®ä¿ç•™ç”»é¢ä¸­æ‰€æœ‰ä¸­æ–‡æ–‡å­—ï¼Œç‰¹åˆ«æ˜¯"æ–‡è„‰è–ªä¼  ç”Ÿç”Ÿä¸æ¯"

æ—¶é•¿ï¼š10ç§’"""
    }
]

def image_to_base64(image_path):
    """å°†å›¾ç‰‡è½¬æ¢ä¸º base64 ç¼–ç çš„ data URL"""
    with open(image_path, 'rb') as f:
        image_data = f.read()
    base64_str = base64.b64encode(image_data).decode('utf-8')
    return f"data:image/png;base64,{base64_str}"

def submit_task(scene):
    """æäº¤å›¾ç”Ÿè§†é¢‘ä»»åŠ¡"""
    print(f"\n{'='*80}")
    print(f"æ­£åœ¨å¤„ç†åœºæ™¯: {scene['id']}")
    print(f"{'='*80}")

    # è¯»å–å¹¶ç¼–ç å›¾ç‰‡
    image_path = Path(scene['image'])
    if not image_path.exists():
        print(f"âŒ é”™è¯¯: å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨: {image_path}")
        return None

    print(f"ğŸ“· å›¾ç‰‡: {image_path}")
    print(f"ğŸ“ æç¤ºè¯é•¿åº¦: {len(scene['prompt'])} å­—ç¬¦")

    image_data_url = image_to_base64(image_path)

    # æ„å»ºè¯·æ±‚
    payload = {
        "promptImage": image_data_url,
        "model": "gen4_turbo",
        "promptText": scene['prompt'],
        "watermark": False,
        "duration": 10,
        "ratio": "1280:768"
    }

    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }

    # æäº¤ä»»åŠ¡
    print(f"\nğŸš€ æäº¤ä»»åŠ¡åˆ° Runway API...")
    try:
        response = requests.post(
            f"{BASE_URL}/runwayml/v1/image_to_video",
            headers=headers,
            json=payload,
            timeout=30
        )

        print(f"ğŸ“¡ å“åº”çŠ¶æ€ç : {response.status_code}")

        if response.status_code == 200:
            result = response.json()
            task_id = result.get('id')
            if task_id:
                print(f"âœ… ä»»åŠ¡æäº¤æˆåŠŸ!")
                print(f"ğŸ“‹ Task ID: {task_id}")
                return {
                    "scene_id": scene['id'],
                    "task_id": task_id,
                    "output_path": scene['output'],
                    "submit_time": time.time()
                }
            else:
                print(f"âŒ å“åº”ä¸­æ²¡æœ‰æ‰¾åˆ° task_id")
                print(f"ğŸ“„ å“åº”å†…å®¹: {response.text}")
                return None
        else:
            print(f"âŒ æäº¤å¤±è´¥: HTTP {response.status_code}")
            print(f"ğŸ“„ å“åº”å†…å®¹: {response.text}")
            return None

    except Exception as e:
        print(f"âŒ æäº¤ä»»åŠ¡æ—¶å‡ºé”™: {e}")
        return None

def check_task_status(task_id):
    """æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€"""
    headers = {
        "Authorization": f"Bearer {API_KEY}",
    }

    try:
        response = requests.get(
            f"{BASE_URL}/runwayml/v1/tasks/{task_id}",
            headers=headers,
            timeout=10
        )

        if response.status_code == 200:
            return response.json()
        else:
            return None
    except:
        return None

def download_video(video_url, output_path):
    """ä¸‹è½½ç”Ÿæˆçš„è§†é¢‘"""
    try:
        response = requests.get(video_url, timeout=60)
        if response.status_code == 200:
            output_file = Path(output_path)
            output_file.parent.mkdir(parents=True, exist_ok=True)

            with open(output_file, 'wb') as f:
                f.write(response.content)

            file_size = output_file.stat().st_size / (1024 * 1024)  # MB
            print(f"âœ… è§†é¢‘å·²ä¿å­˜: {output_path}")
            print(f"ğŸ“¦ æ–‡ä»¶å¤§å°: {file_size:.1f} MB")
            return True
        else:
            print(f"âŒ ä¸‹è½½å¤±è´¥: HTTP {response.status_code}")
            return False
    except Exception as e:
        print(f"âŒ ä¸‹è½½è§†é¢‘æ—¶å‡ºé”™: {e}")
        return False

def main():
    print("="*80)
    print("æ–‡è„‰è–ªä¼  - Runway æ‰¹é‡å›¾ç”Ÿè§†é¢‘ç”Ÿæˆ")
    print("="*80)
    print(f"\næ€»å…±éœ€è¦ç”Ÿæˆ {len(SCENES)} ä¸ªåœºæ™¯çš„è§†é¢‘")
    print(f"å¼€å§‹æ—¶é—´: {time.strftime('%Y-%m-%d %H:%M:%S')}")

    # ç¬¬ä¸€é˜¶æ®µï¼šæ‰¹é‡æäº¤æ‰€æœ‰ä»»åŠ¡
    print("\n" + "="*80)
    print("ç¬¬ä¸€é˜¶æ®µï¼šæ‰¹é‡æäº¤æ‰€æœ‰ä»»åŠ¡")
    print("="*80)

    tasks = []
    for i, scene in enumerate(SCENES, 1):
        print(f"\n[{i}/{len(SCENES)}] ", end="")
        task = submit_task(scene)
        if task:
            tasks.append(task)
        time.sleep(2)  # é¿å…è¯·æ±‚è¿‡å¿«

    print(f"\nâœ… æˆåŠŸæäº¤ {len(tasks)}/{len(SCENES)} ä¸ªä»»åŠ¡")

    if not tasks:
        print("âŒ æ²¡æœ‰æˆåŠŸæäº¤çš„ä»»åŠ¡ï¼Œç¨‹åºé€€å‡º")
        return

    # ç¬¬äºŒé˜¶æ®µï¼šç›‘æ§æ‰€æœ‰ä»»åŠ¡çŠ¶æ€
    print("\n" + "="*80)
    print("ç¬¬äºŒé˜¶æ®µï¼šç›‘æ§ä»»åŠ¡è¿›åº¦")
    print("="*80)

    completed_tasks = []
    failed_tasks = []
    max_wait_time = 600  # æ¯ä¸ªä»»åŠ¡æœ€å¤šç­‰å¾… 10 åˆ†é’Ÿ

    while tasks:
        for task in tasks[:]:  # ä½¿ç”¨å‰¯æœ¬è¿›è¡Œè¿­ä»£
            elapsed = time.time() - task['submit_time']

            if elapsed > max_wait_time:
                print(f"\nâ±ï¸ ä»»åŠ¡ {task['scene_id']} è¶…æ—¶ ({max_wait_time/60:.1f} åˆ†é’Ÿ)")
                failed_tasks.append(task)
                tasks.remove(task)
                continue

            result = check_task_status(task['task_id'])

            if result:
                status = result.get('status', 'UNKNOWN')

                if status in ['completed', 'succeed', 'success', 'SUCCEEDED']:
                    print(f"\nâœ… ä»»åŠ¡å®Œæˆ: {task['scene_id']}")

                    # è·å–è§†é¢‘ URL
                    video_url = result.get('url') or result.get('video_url')
                    if not video_url and 'output' in result:
                        output = result.get('output')
                        if isinstance(output, list) and len(output) > 0:
                            video_url = output[0]
                        elif isinstance(output, dict):
                            video_url = output.get('video')

                    if video_url:
                        print(f"ğŸ“¥ å¼€å§‹ä¸‹è½½è§†é¢‘...")
                        if download_video(video_url, task['output_path']):
                            completed_tasks.append(task)
                        else:
                            failed_tasks.append(task)
                    else:
                        print(f"âŒ æœªæ‰¾åˆ°è§†é¢‘ URL")
                        failed_tasks.append(task)

                    tasks.remove(task)

                elif status in ['failed', 'FAILED', 'error', 'ERROR']:
                    print(f"\nâŒ ä»»åŠ¡å¤±è´¥: {task['scene_id']}")
                    print(f"   å¤±è´¥åŸå› : {result.get('failure', result.get('failure_reason', 'æœªçŸ¥'))}")
                    failed_tasks.append(task)
                    tasks.remove(task)

                else:
                    # ä»»åŠ¡ä»åœ¨è¿›è¡Œä¸­
                    progress = result.get('progress', 0)
                    print(f"\râ³ {task['scene_id']}: {status} ({progress}%) - å·²ç­‰å¾… {elapsed:.0f}s", end="", flush=True)

        if tasks:
            time.sleep(5)  # æ¯ 5 ç§’æŸ¥è¯¢ä¸€æ¬¡

    # ç¬¬ä¸‰é˜¶æ®µï¼šç”Ÿæˆæ€»ç»“æŠ¥å‘Š
    print("\n\n" + "="*80)
    print("æ‰¹é‡ç”Ÿæˆå®Œæˆ - æ€»ç»“æŠ¥å‘Š")
    print("="*80)

    print(f"\nâœ… æˆåŠŸç”Ÿæˆ: {len(completed_tasks)} ä¸ªè§†é¢‘")
    for task in completed_tasks:
        print(f"   - {task['scene_id']}")

    if failed_tasks:
        print(f"\nâŒ å¤±è´¥: {len(failed_tasks)} ä¸ªè§†é¢‘")
        for task in failed_tasks:
            print(f"   - {task['scene_id']}")

    print(f"\nç»“æŸæ—¶é—´: {time.strftime('%Y-%m-%d %H:%M:%S')}")
    print("="*80)

if __name__ == "__main__":
    main()
